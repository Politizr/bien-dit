<?xml version="1.0" encoding="UTF-8"?>
<database name="default" namespace="Politizr\Model" defaultIdMethod="native">

    <table name="p_tag">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        <behavior name="archivable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        <column name="p_t_tag_type_id" type="integer" required="true" />
        <column name="p_t_parent_id" type="integer" required="false" />
        <column name="p_user_id" type="integer" required="false" />
        <column name="p_owner_id" type="integer" required="false" />
        
        <column name="title" type="varchar" size="150" />

        <column name="moderated" type="boolean" />
        <column name="moderated_at" type="timestamp" />

        <column name="online" type="boolean" />

        <foreign-key foreignTable="p_t_tag_type" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_t_tag_type_id" foreign="id" />
        </foreign-key>        
        <foreign-key foreignTable="p_tag" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_t_parent_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_user" phpName="PUser" refPhpName="PUser" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_user" phpName="POwner" refPhpName="POwner" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_owner_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_t_tag_type">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        
        <column name="title" type="varchar" size="150" />

        <column name="description" type="longvarchar" />
    </table>

    <table name="p_t_scope_p_l_c" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_tag_id" type="integer" required="true" />
        <column name="p_l_city_id" type="integer" required="true" />

        <foreign-key foreignTable="p_tag" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_tag_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_l_city" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_l_city_id" foreign="id" />
        </foreign-key>
    </table>



    <table name="p_r_badge">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        <behavior name="sortable" >
            <parameter name="use_scope" value="true" />
            <parameter name="scope_column" value="p_r_badge_family_id" />
        </behavior>
        <behavior name="archivable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        <column name="p_r_metal_type_id" type="integer" required="true" />
        <column name="p_r_badge_family_id" type="integer" required="true" />
        
        <column name="title" type="varchar" size="150" />

        <column name="online" type="boolean" />

        <foreign-key foreignTable="p_r_metal_type" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_r_metal_type_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_r_badge_family" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_r_badge_family_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_r_metal_type">
        <behavior name="timestampable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" />
        
        <column name="title" type="varchar" size="150" />
    </table>

    <table name="p_r_badge_family">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sortable" >
            <parameter name="use_scope" value="true" />
            <parameter name="scope_column" value="p_r_badge_type_id" />
        </behavior>
        <behavior name="archivable" />

        <column name="p_r_badge_type_id" type="integer" required="true" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        
        <column name="title" type="varchar" size="150" />
        <column name="description" type="longvarchar" />

        <foreign-key foreignTable="p_r_badge_type" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_r_badge_type_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_r_badge_type">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sortable" />
        <behavior name="archivable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        
        <column name="title" type="varchar" size="150" />
        <column name="description" type="longvarchar" />
    </table>



    <table name="p_r_action">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        
        <column name="title" type="varchar" size="150" />
        <column name="description" type="longvarchar" />

        <column name="score_evolution" type="integer" />

        <column name="online" type="boolean" />

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>





    <table name="p_order">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="archivable" />
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        <column name="p_user_id" type="integer" />
        <column name="p_o_order_state_id" type="integer" />
        <column name="p_o_payment_state_id" type="integer" />
        <column name="p_o_payment_type_id" type="integer" />
        <column name="p_o_subscription_id" type="integer" />

        <column name="subscription_title" type="varchar" size="150" />
        <column name="subscription_description" type="longvarchar" />
        <column name="subscription_begin_at" type="date" />
        <column name="subscription_end_at" type="date" />
        <column name="information" type="longvarchar" />

        <column name="price" type="decimal" size="10" scale="2" />
        <column name="promotion" type="decimal" size="10" scale="2" />
        <column name="total" type="decimal" size="10" scale="2" />

        <column name="gender" type="enum" valueSet="Madame, Monsieur" />
        <column name="name" type="varchar" size="150" />
        <column name="firstname" type="varchar" size="150" />   
        <column name="phone" type="varchar" size="30" />
        <column name="email" type="varchar" size="255" /> 

        <column name="invoice_ref" type="varchar" size="250" />
        <column name="invoice_at" type="timestamp" />
        <column name="invoice_filename" type="varchar" size="250" />

        <column name="supporting_document" type="varchar" size="250" />
        <column name="elective_mandates" type="longvarchar" />

        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_o_order_state" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_o_order_state_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_o_payment_state" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_o_payment_state_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_o_payment_type" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_o_payment_type_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_o_subscription" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_o_subscription_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_o_order_state">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" />
        <column name="title" type="varchar" size="150" />
        <column name="description" type="longvarchar" />
    </table>

    <table name="p_o_payment_state">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" />
        <column name="title" type="varchar" size="150" />
        <column name="description" type="longvarchar" />
    </table>

    <table name="p_o_payment_type">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sortable" />

        <column name="id" type="integer" required="true" primaryKey="true" />
        <column name="title" type="varchar" size="150" />
        <column name="description" type="longvarchar" />

        <column name="online" type="boolean" />
    </table>

    <table name="p_o_subscription">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        <behavior name="sortable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        
        <column name="title" type="varchar" size="150" />
        <column name="description" type="longvarchar" />

        <column name="price" type="decimal" size="10" scale="2" />

        <column name="online" type="boolean" />

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>
    
    <table name="p_o_email">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_order_id" required="true" type="integer" />
        <column name="p_o_order_state_id" type="integer" />
        <column name="p_o_payment_state_id" type="integer" />
        <column name="p_o_payment_type_id" type="integer" />
        <column name="p_o_subscription_id" type="integer" />

        <column name="send" type="varchar" size="150" />

        <column name="subject" type="varchar" size="250" />
        <column name="html_body" type="longvarchar" />
        <column name="txt_body" type="longvarchar" />

        <foreign-key foreignTable="p_order" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_order_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_o_order_state" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_o_order_state_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_o_payment_state" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_o_payment_state_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_o_payment_type" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_o_payment_type_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_o_subscription" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_o_subscription_id" foreign="id" />
        </foreign-key>
    </table>




    <table name="p_qualification">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        <behavior name="sortable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />

        <column name="title" type="varchar" size="250" />
        <column name="description" type="longvarchar" />

        <column name="online" type="boolean" />

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_q_type">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        <behavior name="sortable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />

        <column name="title" type="varchar" size="250" />
        <column name="description" type="longvarchar" />

        <column name="online" type="boolean" />

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_q_mandate">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        <behavior name="sortable" >
            <parameter name="use_scope" value="true" />
            <parameter name="scope_column" value="p_q_type_id" />
        </behavior>

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />

        <column name="title" type="varchar" size="250" />
        <column name="select_title" type="varchar" size="250" />

        <column name="online" type="boolean" />

        <foreign-key foreignTable="p_q_type" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_q_type_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_q_organization">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        <behavior name="sortable" >
            <parameter name="use_scope" value="true" />
            <parameter name="scope_column" value="p_q_type_id" />
        </behavior>
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        <column name="p_q_type_id" type="integer" required="true" />

        <column name="title" type="varchar" size="250" />
        <column name="initials" type="varchar" size="50" />

        <column name="file_name" type="varchar" size="150" />

        <column name="description" type="longvarchar" />
        <column name="url" type="varchar" size="150" />

        <column name="online" type="boolean" />

        <foreign-key foreignTable="p_q_type" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_q_type_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>


    <table name="p_notification">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        <column name="p_n_type_id" type="integer" required="true" />

        <column name="title" type="varchar" size="250" />
        <column name="description" type="longvarchar" />
        
        <column name="online" type="boolean" />

        <foreign-key foreignTable="p_n_type" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_n_type_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_n_type">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        
        <column name="title" type="varchar" size="150" />

        <column name="description" type="longvarchar" />
    </table>

    <table name="p_user">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable"/>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        <behavior name="archivable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />

        <column name="p_u_status_id" type="integer" required="true" />
        <column name="p_l_city_id" type="integer" />

        <column name="provider" type="varchar" size="255" />
        <column name="provider_id" type="varchar" size="255" />
        <column name="nickname" type="varchar" size="255" />
        <column name="realname" type="varchar" size="255" />

        <column name="username" type="varchar" size="255" />
        <column name="username_canonical" type="varchar" size="255" />

        <column name="email" type="varchar" size="255" />
        <column name="email_canonical" type="varchar" size="255" />

        <column name="enabled" type="boolean" defaultValue="false" />
        <column name="salt" type="varchar" size="255" defaultValue="null" />
        <column name="password" type="varchar" size="255" defaultValue="null" />
        <column name="last_login" type="timestamp" />
        <column name="locked" type="boolean" defaultValue="false" />
        <column name="expired" type="boolean" defaultValue="false" />
        <column name="expires_at" type="timestamp" />
        <column name="confirmation_token" type="varchar" size="255" />
        <column name="password_requested_at" type="timestamp" />
        <column name="credentials_expired" type="boolean" defaultValue="false" />
        <column name="credentials_expire_at" type="timestamp" />
        <column name="roles" type="array" />

        <column name="last_activity" type="timestamp" />
        
        <column name="file_name" type="varchar" size="150" />
        <column name="back_file_name" type="varchar" size="150" />
        <column name="copyright" type="longvarchar" />

        <column name="gender" type="enum" valueSet="Madame, Monsieur" />
        <column name="firstname" type="varchar" size="150" />
        <column name="name" type="varchar" size="150" />
        <column name="birthday" type="date" />

        <column name="subtitle" type="longvarchar" />
        <column name="biography" type="longvarchar" />

        <column name="website" type="varchar" size="150" />
        <column name="twitter" type="varchar" size="150" />
        <column name="facebook" type="varchar" size="150" />
        <column name="phone" type="varchar" size="30" />

        <column name="newsletter" type="boolean" />
        
        <column name="last_connect" type="timestamp" />
        <column name="nb_connected_days" type="integer" defaultValue="0" />

        <column name="nb_views" type="integer" />

        <column name="qualified" type="boolean" />
        <column name="validated" type="boolean" defaultValue="false" />
        <column name="nb_id_check" type="integer" />

        <column name="online" type="boolean" />
        <column name="homepage" type="boolean" />

        <column name="banned" type="boolean" />
        <column name="banned_nb_days_left" type="integer" />
        <column name="banned_nb_total" type="integer" />

        <column name="abuse_level" type="integer" />

        <foreign-key foreignTable="p_u_status" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_u_status_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_l_city" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_l_city_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
        <unique>
            <unique-column name="username_canonical" />
        </unique>
        <unique>
            <unique-column name="email_canonical" />
        </unique>
    </table>

    <table name="p_u_status">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" />
        <column name="title" type="varchar" size="150" />
    </table>    



    <table name="p_u_follow_u">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="equal_nest">
            <parameter name="parent_table" value="p_user" />
            <parameter name="reference_column_1" value="p_user_id" />
            <parameter name="reference_column_2" value="p_user_follower_id" />
        </behavior>
    </table>

    <table name="p_u_track_u">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="equal_nest">
            <parameter name="parent_table" value="p_user" />
            <parameter name="reference_column_1" value="p_user_id_source" />
            <parameter name="reference_column_2" value="p_user_id_dest" />
        </behavior>
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    </table>

    <table name="p_u_follow_d_d" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_d_debate_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" phpName="PuFollowDdPUser" refPhpName="PuFollowDdPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_d_debate" phpName="PuFollowDdPDDebate" refPhpName="PuFollowDdPDDebate" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_d_debate_id" foreign="id" />
        </foreign-key>
    </table>


    <table name="p_u_bookmark_d_d" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_d_debate_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" phpName="PuBookmarkDdPUser" refPhpName="PuBookmarkDdPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_d_debate" phpName="PuBookmarkDdPDDebate" refPhpName="PuBookmarkDdPDDebate" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_d_debate_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_u_bookmark_d_r" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_d_reaction_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" phpName="PuBookmarkDrPUser" refPhpName="PuBookmarkDrPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_d_reaction" phpName="PuBookmarkDrPDReaction" refPhpName="PuBookmarkDrPDReaction" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_d_reaction_id" foreign="id" />
        </foreign-key>
    </table>


    <table name="p_u_track_d_d" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_d_debate_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" phpName="PuTrackDdPUser" refPhpName="PuTrackDdPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_d_debate" phpName="PuTrackDdPDDebate" refPhpName="PuTrackDdPDDebate" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_d_debate_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_u_track_d_r" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_d_reaction_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" phpName="PuTrackDrPUser" refPhpName="PuTrackDrPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_d_reaction" phpName="PuTrackDrPDReaction" refPhpName="PuTrackDrPDReaction" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_d_reaction_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_u_badge" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_r_badge_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_r_badge" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_r_badge_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_u_reputation" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_r_action_id" type="integer" required="true" />

        <column name="p_object_name" type="varchar" size="150" />
        <column name="p_object_id" type="integer" />

        <index>
            <index-column name="p_object_id" />
        </index>

        <foreign-key foreignTable="p_user" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_r_action" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_r_action_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_u_tagged_t" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_tag_id" type="integer" required="true" />

        <column name="hidden" type="boolean" default="false" />

        <foreign-key foreignTable="p_user" phpName="PuTaggedTPUser" refPhpName="PuTaggedTPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_tag" phpName="PuTaggedTPTag" refPhpName="PuTaggedTPTag" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_tag_id" foreign="id" />
        </foreign-key>
    </table>


    <table name="p_u_role_q" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_qualification_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_qualification" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_qualification_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_u_mandate">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="archivable" />
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />

        <column name="p_user_id" type="integer" required="true" />
        <column name="p_q_type_id" type="integer" required="true" />
        <column name="p_q_mandate_id" type="integer" required="true" />
        <column name="p_q_organization_id" type="integer" required="false" />

        <column name="localization" type="varchar" size="150" />

        <column name="begin_at" type="date" />
        <column name="end_at" type="date" />

        <foreign-key foreignTable="p_user" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>        
        <foreign-key foreignTable="p_q_type" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_q_type_id" foreign="id" />
        </foreign-key>        
        <foreign-key foreignTable="p_q_mandate" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_q_mandate_id" foreign="id" />
        </foreign-key>        
        <foreign-key foreignTable="p_q_organization" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_q_organization_id" foreign="id" />
        </foreign-key>        

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_u_affinity_q_o" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_q_organization_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" phpName="PUAffinityQOPUser" refPhpName="PUAffinityQOPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_q_organization" phpName="PUAffinityQOPQOrganization" refPhpName="PUAffinityQOPQOrganization" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_q_organization_id" foreign="id" />
        </foreign-key>

    </table>

    <table name="p_u_current_q_o" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_q_organization_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" phpName="PUCurrentQOPUser" refPhpName="PUCurrentQOPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_q_organization" phpName="PUCurrentQOPQOrganization" refPhpName="PUCurrentQOPQOrganization" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_q_organization_id" foreign="id" />
        </foreign-key>

    </table>



    <table name="p_u_notification" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_notification_id" type="integer" required="true" />

        <column name="p_object_name" type="varchar" size="150" />
        <column name="p_object_id" type="integer" />
        <column name="p_author_user_id" type="integer" />

        <column name="description" type="longvarchar" />

        <column name="checked" type="boolean" />
        <column name="checked_at" type="timestamp" />

        <foreign-key foreignTable="p_user" phpName="PUNotificationPUser" refPhpName="PUNotificationPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_notification" phpName="PUNotificationPNotification" refPhpName="PUNotificationPNotification" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_notification_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_u_subscribe_email" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_notification_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" phpName="PUSubscribeEmailPUser" refPhpName="PUSubscribeEmailPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_notification" phpName="PUSubscribeEmailPNotification" refPhpName="PUSubscribeEmailPNotification" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_notification_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_u_subscribe_screen" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_notification_id" type="integer" required="true" />

        <foreign-key foreignTable="p_user" phpName="PUSubscribeScreenPUser" refPhpName="PUSubscribeScreenPUser" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_notification" phpName="PUSubscribeScreenPNotification" refPhpName="PUSubscribeScreenPNotification" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_notification_id" foreign="id" />
        </foreign-key>
    </table>


    <table name="p_d_debate">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        <behavior name="archivable" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        <column name="p_user_id" type="integer" required="false" />

        <column name="p_l_city_id" type="integer" required="false" />
        <column name="p_l_department_id" type="integer" required="false" />
        <column name="p_l_region_id" type="integer" required="false" />
        <column name="p_l_country_id" type="integer" required="false" />

        <column name="fb_ad_id" type="varchar" size="150" />

        <column name="title" type="varchar" size="100" />

        <column name="file_name" type="varchar" size="150" />
        <column name="copyright" type="longvarchar" />

        <column name="description" type="clob" />

        <column name="note_pos" type="integer" defaultValue="0" />
        <column name="note_neg" type="integer" defaultValue="0" />

        <column name="nb_views" type="integer" />

        <column name="published" type="boolean" />
        <column name="published_at" type="timestamp" />
        <column name="published_by" type="varchar" size="300" />

        <column name="favorite" type="boolean" />
        <column name="online" type="boolean" />
        <column name="homepage" type="boolean" />
        <column name="moderated" type="boolean" />
        <column name="moderated_partial" type="boolean" />
        <column name="moderated_at" type="timestamp" />

        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_l_city" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_l_city_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_l_department" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_l_department_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_l_region" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_l_region_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_l_country" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_l_country_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_d_reaction">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        <behavior name="nested_set">
            <parameter name="use_scope" value="true" />
            <parameter name="scope_column" value="p_d_debate_id" />
        </behavior>
        <behavior name="archivable" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        <column name="p_user_id" type="integer" required="false" />
        <column name="p_d_debate_id" type="integer" required="true" />
        <column name="parent_reaction_id" type="integer" required="false" />

        <column name="p_l_city_id" type="integer" required="false" />
        <column name="p_l_department_id" type="integer" required="false" />
        <column name="p_l_region_id" type="integer" required="false" />
        <column name="p_l_country_id" type="integer" required="false" />

        <column name="fb_ad_id" type="varchar" size="150" />

        <column name="title" type="varchar" size="100" />

        <column name="file_name" type="varchar" size="150" />
        <column name="copyright" type="longvarchar" />

        <column name="description" type="clob" />

        <column name="note_pos" type="integer" defaultValue="0" />
        <column name="note_neg" type="integer" defaultValue="0" />

        <column name="nb_views" type="integer" />

        <column name="published" type="boolean" />
        <column name="published_at" type="timestamp" />
        <column name="published_by" type="varchar" size="300" />

        <column name="favorite" type="boolean" />
        <column name="online" type="boolean" />
        <column name="homepage" type="boolean" />
        <column name="moderated" type="boolean" />
        <column name="moderated_partial" type="boolean" />
        <column name="moderated_at" type="timestamp" />

        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_d_debate" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_d_debate_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_l_city" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_l_city_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_l_department" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_l_department_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_l_region" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_l_region_id" foreign="id" />
        </foreign-key>

        <foreign-key foreignTable="p_l_country" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_l_country_id" foreign="id" />
        </foreign-key>
        
        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_d_d_comment">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="archivable" />
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        <column name="p_user_id" type="integer" />
        <column name="p_d_debate_id" type="integer" required="true" />

        <column name="description" type="longvarchar" />
        <column name="paragraph_no" type="integer" />

        <column name="note_pos" type="integer" defaultValue="0" />
        <column name="note_neg" type="integer" defaultValue="0" />

        <column name="published_at" type="timestamp" />
        <column name="published_by" type="varchar" size="300" />

        <column name="online" type="boolean" />
        <column name="moderated" type="boolean" />
        <column name="moderated_partial" type="boolean" />
        <column name="moderated_at" type="timestamp" />

        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_d_debate" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_d_debate_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_d_r_comment">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="archivable" />
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="uuid" type="varchar" size="50" />
        <column name="p_user_id" type="integer" />
        <column name="p_d_reaction_id" type="integer" required="true" />

        <column name="description" type="longvarchar" />
        <column name="paragraph_no" type="integer" />

        <column name="note_pos" type="integer" defaultValue="0" />
        <column name="note_neg" type="integer" defaultValue="0" />

        <column name="published_at" type="timestamp" />
        <column name="published_by" type="varchar" size="300" />

        <column name="online" type="boolean" />
        <column name="moderated" type="boolean" />
        <column name="moderated_partial" type="boolean" />
        <column name="moderated_at" type="timestamp" />

        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_d_reaction" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_d_reaction_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_d_d_tagged_t" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="archivable" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_d_debate_id" type="integer" required="true" />
        <column name="p_tag_id" type="integer" required="true" />

        <foreign-key foreignTable="p_d_debate" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_d_debate_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_tag" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_tag_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_d_r_tagged_t" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="archivable" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_d_reaction_id" type="integer" required="true" />
        <column name="p_tag_id" type="integer" required="true" />

        <foreign-key foreignTable="p_d_reaction" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_d_reaction_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_tag" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_tag_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_d_direct">
        <behavior name="timestampable" />
        <behavior name="archivable" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />

        <column name="name" type="varchar" size="250" />
        <column name="city" type="varchar" size="250" />
        <column name="email" type="varchar" size="250" />
        
        <column name="description" type="longvarchar" />
    </table>


    <table name="p_m_moderation_type">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        
        <column name="id" type="integer" required="true" primaryKey="true" />
        
        <column name="title"  type="varchar" size="150" />  
        <column name="message" type="longvarchar" />  
    </table>

    <table name="p_m_user_moderated" isCrossRef="true">
        <behavior name="timestampable" />
        <behavior name="query_cache" />

        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="true" />
        <column name="p_m_moderation_type_id" type="integer" required="true" />

        <column name="p_object_name" type="varchar" size="150" />
        <column name="p_object_id" type="integer" />

        <column name="score_evolution" type="integer" />

        <foreign-key foreignTable="p_user" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_m_moderation_type" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_m_moderation_type_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_m_user_message">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="archivable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="false" />  
        
        <column name="p_object_name" type="varchar" size="150" />
        <column name="p_object_id" type="integer" />

        <column name="message" type="longvarchar" />
        <column name="evol_reput" type="integer" />

        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
    </table>


    <table name="p_m_user_historic">
        <behavior name="timestampable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="false" />  
        <column name="p_object_id" type="integer" />
        
        <column name="file_name" type="varchar" size="150" />
        <column name="back_file_name" type="varchar" size="150" />

        <column name="copyright" type="longvarchar" />
        <column name="subtitle" type="longvarchar" />
        <column name="biography" type="longvarchar" />

        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_m_debate_historic">
        <behavior name="timestampable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_d_debate_id" type="integer" required="false" />  
        <column name="p_user_id" type="integer" required="false" />  
        <column name="p_object_id" type="integer" />
        
        <column name="file_name" type="varchar" size="150" />

        <column name="title" type="varchar" size="100" />
        <column name="description" type="clob" />
        <column name="copyright" type="longvarchar" />

        <foreign-key foreignTable="p_d_debate" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_d_debate_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_m_reaction_historic">
        <behavior name="timestampable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_d_reaction_id" type="integer" required="false" />  
        <column name="p_user_id" type="integer" required="false" />  
        <column name="p_object_id" type="integer" />
        
        <column name="file_name" type="varchar" size="150" />

        <column name="title" type="varchar" size="100" />
        <column name="description" type="clob" />
        <column name="copyright" type="longvarchar" />

        <foreign-key foreignTable="p_d_reaction" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_d_reaction_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_m_d_comment_historic">
        <behavior name="timestampable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_d_d_comment_id" type="integer" required="false" />  
        <column name="p_user_id" type="integer" required="false" />  
        <column name="p_object_id" type="integer" />
        
        <column name="description" type="longvarchar" />

        <foreign-key foreignTable="p_d_d_comment" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_d_d_comment_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_m_r_comment_historic">
        <behavior name="timestampable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_d_r_comment_id" type="integer" required="false" />  
        <column name="p_user_id" type="integer" required="false" />  
        <column name="p_object_id" type="integer" />
        
        <column name="description" type="longvarchar" />

        <foreign-key foreignTable="p_d_r_comment" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_d_r_comment_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
    </table>


    <table name="p_m_ask_for_update">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="archivable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="false" />  
        
        <column name="p_object_name" type="varchar" size="150" />
        <column name="p_object_uuid" type="varchar" size="50" />

        <column name="message" type="longvarchar" />

        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="p_m_abuse_reporting">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="archivable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="false" />  
        
        <column name="p_object_name" type="varchar" size="150" />
        <column name="p_object_uuid" type="varchar" size="50" />

        <column name="message" type="longvarchar" />

        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>        
    </table>

    <table name="p_m_app_exception">
        <behavior name="timestampable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_user_id" type="integer" required="false" />  
        
        <column name="file" type="varchar" size="250" />
        <column name="line" type="integer" />

        <column name="code" type="integer" />
        <column name="message" type="varchar" size="1500" />

        <column name="stack_trace" type="clob" />

        <foreign-key foreignTable="p_user" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_user_id" foreign="id" />
        </foreign-key>
    </table>


    <table name="p_m_cgu">
        <behavior name="timestampable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />

        <column name="title" type="varchar" size="100" />
        <column name="summary" type="longvarchar" />
        <column name="description" type="clob" />

        <column name="online" type="boolean" />
    </table>

    <table name="p_m_cgv">
        <behavior name="timestampable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        
        <column name="title" type="varchar" size="100" />
        <column name="summary" type="longvarchar" />
        <column name="description" type="clob" />

        <column name="online" type="boolean" />
    </table>

    <table name="p_m_charte">
        <behavior name="timestampable" />
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        
        <column name="title" type="varchar" size="100" />
        <column name="summary" type="longvarchar" />
        <column name="description" type="clob" />

        <column name="online" type="boolean" />
    </table>

    <table name="p_l_country">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        
        <column name="title" type="varchar" size="150" />
        <column name="uuid" type="varchar" size="50" />

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_l_region">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_l_country_id" type="integer" required="true" />
        
        <column name="title" type="varchar" size="150" />
        <column name="uuid" type="varchar" size="50" />

        <foreign-key foreignTable="p_l_country" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_l_country_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_l_department">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{title}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_l_region_id" type="integer" required="true" />
        
        <column name="code" type="varchar" size="10" />
        <column name="title" type="varchar" size="150" />
        <column name="uuid" type="varchar" size="50" />

        <foreign-key foreignTable="p_l_region" onDelete="CASCADE" onUpdate="CASCADE">
            <reference local="p_l_region_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

    <table name="p_l_city">
        <behavior name="timestampable" />
        <behavior name="query_cache" />
        <behavior name="sluggable">
            <parameter name="slug_pattern" value="{name}" />
        </behavior>
        <behavior name="uuid">
            <parameter name="version" value="4" />
            <parameter name="permanent" value="false" />
        </behavior>
        
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="p_l_department_id" type="integer" />
        
        <column name="name" type="varchar" size="150" />
        <column name="name_simple" type="varchar" size="150" />
        <column name="name_real" type="varchar" size="150" />
        <column name="name_soundex" type="varchar" size="150" />
        <column name="name_metaphone" type="varchar" size="150" />
        <column name="zipcode" type="varchar" size="150" />
        <column name="municipality" type="varchar" size="150" />
        <column name="municipality_code" type="varchar" size="10" />
        <column name="district" type="integer" />
        <column name="canton" type="varchar" size="10" />
        <column name="amdi" type="integer" />
        <column name="nb_people_2010" type="integer" />
        <column name="nb_people_1999" type="integer" />
        <column name="nb_people_2012" type="integer" />
        <column name="density_2010" type="integer" />
        <column name="surface" type="float" />
        <column name="longitude_deg" type="float" />
        <column name="latitude_deg" type="float" />
        <column name="longitude_grd" type="varchar" size="10" />
        <column name="latitude_grd" type="varchar" size="10" />
        <column name="longitude_dms" type="varchar" size="10" />
        <column name="latitude_dms" type="varchar" size="10" />
        <column name="zmin" type="integer" />
        <column name="zmax" type="integer" />
        <column name="uuid" type="varchar" size="50" />

        <foreign-key foreignTable="p_l_department" onDelete="SETNULL" onUpdate="CASCADE">
            <reference local="p_l_department_id" foreign="id" />
        </foreign-key>

        <unique>
            <unique-column name="uuid"/>
        </unique>
    </table>

</database>