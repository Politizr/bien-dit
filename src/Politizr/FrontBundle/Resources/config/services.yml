parameters:
    politizr.oauth_user_provider.class:   	Politizr\Security\User\Provider\OAuthUserProvider

services:
    # CONNEXION
    hwi_oauth.user.provider.entity:
        class:                              HWI\Bundle\OAuthBundle\Security\Core\User\OAuthUserProvider

    politizr.login_user_provider:
        class: 								Politizr\Security\User\Provider\PUserProvider

    politizr.oauth_user_provider:
        class: 								"%politizr.oauth_user_provider.class%"
        arguments: 							[ @service_container ]


    # SERVICES UTILITAIRES
    politizr.utils:
        class:                              Politizr\FrontBundle\Lib\Utils\UtilsManager
        arguments:                          [ @service_container ]


    # SERVICES ROUTING
    politizr.routing.ajax:
        class:                              Politizr\FrontBundle\Lib\Routing\AjaxCreateResponse
        arguments:                          [ @service_container ]


    # SERVICES METIERS
    politizr.service.security:
        class:                              Politizr\FrontBundle\Lib\Service\SecurityManager
        arguments:                          [ @service_container ]

    politizr.service.user:
        class:                              Politizr\FrontBundle\Lib\Service\UserManager
        arguments:                          [ @service_container ]

    politizr.service.document:
        class:                              Politizr\FrontBundle\Lib\Service\DocumentManager
        arguments:                          [ @service_container ]

    politizr.service.tag:
        class:                              Politizr\FrontBundle\Lib\Service\TagManager
        arguments:                          [ @service_container ]

    politizr.service.timeline:
        class:                              Politizr\FrontBundle\Lib\Service\TimelineManager
        arguments:                          [ @service_container ]


    # LISTENERS
    politzr.listener.email:
        class:      Politizr\FrontBundle\Listener\EmailListener
        arguments:  [ @mailer, @templating, @logger, "%contact_email%", "%noreply_email%" ]
        tags:
            - { name: kernel.event_listener, event: lost_password_email }
            - { name: kernel.event_listener, event: upd_password_email }

    politzr.listener.notification:
        class:      Politizr\FrontBundle\Listener\NotificationListener
        arguments:  [ @logger, @event_dispatcher ]
        tags:
            - { name: kernel.event_listener, event: n_comment_publish }
            - { name: kernel.event_listener, event: n_note_pos }
            - { name: kernel.event_listener, event: n_note_neg }
            - { name: kernel.event_listener, event: n_reaction_publish }
            - { name: kernel.event_listener, event: n_debate_follow }
            - { name: kernel.event_listener, event: n_user_follow }
            - { name: kernel.event_listener, event: n_badge_win }

    politzr.listener.reputation:
        class:      Politizr\FrontBundle\Listener\ReputationListener
        arguments:  [ @logger, @event_dispatcher ]
        tags:
            - { name: kernel.event_listener, event: r_debate_publish }
            - { name: kernel.event_listener, event: r_reaction_publish }
            - { name: kernel.event_listener, event: r_comment_publish }
            - { name: kernel.event_listener, event: r_note_pos }
            - { name: kernel.event_listener, event: r_note_neg }
            - { name: kernel.event_listener, event: r_debate_follow }
            - { name: kernel.event_listener, event: r_debate_unfollow }
            - { name: kernel.event_listener, event: r_user_follow }
            - { name: kernel.event_listener, event: r_user_unfollow }

    politzr.listener.badge:
        class:      Politizr\FrontBundle\Listener\BadgeListener
        arguments:  [ @logger, @event_dispatcher ]
        tags:
            - { name: kernel.event_listener, event: b_reaction_publish }
            - { name: kernel.event_listener, event: b_document_note_pos }
            - { name: kernel.event_listener, event: b_document_note_neg }
            - { name: kernel.event_listener, event: b_comment_publish }
            - { name: kernel.event_listener, event: b_comment_note_pos }
            - { name: kernel.event_listener, event: b_comment_note_neg }
            - { name: kernel.event_listener, event: b_user_follow }


    # EXTENSIONS TWIG
    politzr.twig.tag:
        class: 								Politizr\FrontBundle\Twig\PolitizrTagExtension
        arguments: 							[ @service_container ]
        tags:
                                            - { name: twig.extension }

    politzr.twig.document:
        class:                              Politizr\FrontBundle\Twig\PolitizrDocumentExtension
        arguments:                          [ @service_container ]
        tags:
                                            - { name: twig.extension }

    politzr.twig.user:
        class:                              Politizr\FrontBundle\Twig\PolitizrUserExtension
        arguments:                          [ @service_container ]
        tags:
                                            - { name: twig.extension }

    politzr.twig.reputation:
        class:                              Politizr\FrontBundle\Twig\PolitizrReputationExtension
        arguments:                          [ @service_container ]
        tags:
                                            - { name: twig.extension }
