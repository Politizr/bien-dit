<script>
    // **************************** //
    //      Initialisation
    // **************************** //
    $(document).ready(function () {
        $(".paymentDetail").hide();
    });

    // **************************** //
    //      Fonctions simples
    // **************************** //
    $("body").on("click", "[name='radioChoice']", function() {
        console.log('*** click radioChoice');

        $(".paymentDetail").hide();
        $(this).siblings(".paymentDetail").show();
    });

    // **************************** //
    //      POST
    // **************************** //
    // clic connexion
    $("body").on("click", ".paymentProcess", function() {
        console.log('*** paymentProcess');

        $.ajax({
            type: 'POST',
            url: "{{ path('PaymentProcess') }}",
            context: this,
            data: { 'pOPaymentTypeId': $(this).attr('pOPaymentTypeId') },
            dataType: 'json',
            {% include 'PolitizrFrontBundle:Navigation:ajaxError.js.twig' %}
            success: function(data) {
                if (data['error']) {
                    $('#ajaxLoader').hide();
                    $('.alert.alert-danger').html(data['error']);
                    $('.alert.alert-danger').show();
                } else {
                    if (data['redirect']) {
                        $('#ajaxLoader').show();
                        window.location = data['redirectUrl'];
                    } else {
                        $(this).parent().html(data['htmlForm']);
                    }
                }
            }
        });
    });

</script>
