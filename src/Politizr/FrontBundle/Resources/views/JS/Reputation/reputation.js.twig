<script>
    // on document ready
    $(function() {
        historyActionsList();
    });

    // Page suivante
    $("body").on("click", "[action='paginate-next']", function(e) {
        console.log('*** click paginate-next');

        console.log($(this).attr('offset'));
        historyActionsList($(this).attr('offset'));
    });

    // Chargement pagin√© de la liste
    function historyActionsList (offset) {
        offset = (typeof offset === "undefined") ? 0 : offset;

        var xhrPath = "{% include 'PolitizrFrontBundle:Navigation\\Xhr:_xhrPath.html.twig' with {
            'xhrRoute': 'ROUTE_MODAL_LIST_ACTIONS',
            'xhrService': 'modal',
            'xhrMethod': 'historyActionsList',
            'xhrType': 'RETURN_HTML',
            } only %}";

        $.ajax({
            type: 'POST',
            url: xhrPath,
            data: { 'offset': offset },
            dataType: 'json',
            {% include 'PolitizrFrontBundle:JS:_ajaxError.js.twig' %}
            success: function(data) {
                if (data['error']) {
                    $('#infoBoxHolder .boxError .notifBoxText').html(data['error']);
                    $('#infoBoxHolder .boxError').show();
                } else {
                    $('#scroll-nav').remove();

                    $('#history').append(data['html']);
                }
                $('#ajaxGlobalLoader').hide();
            }
        });    
    }

</script>
