<script>
    $("body").on("click", "[action='paginateNext']", function(e) {
        console.log('*** click paginateNext');
        console.log('page = ' + $(this).attr('page'));

        e.preventDefault();
        $.ajax({
              type: 'POST',
              url: "{{ path('SearchPage') }}",
              data: { 'query': $(this).attr('query'), 'page': $(this).attr('page') },
              dataType: 'json',
            {% include 'PolitizrFrontBundle:JS:ajaxError.js.twig' %}
            success: function(data) {
                if (data['error']) {
                    $('#ajaxGlobalLoader').hide();
                    $('#infoBoxHolder .boxError .notifBoxText').html(data['error']);
                    $('#infoBoxHolder .boxError').show();
                } else {
                    $('#scroll-nav').remove();
                    $('.boxResults').last().after(data['html']);
                    $('#ajaxGlobalLoader').hide();
                }
            }
        });
    });
</script>
