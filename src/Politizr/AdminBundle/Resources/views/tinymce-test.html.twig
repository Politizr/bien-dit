<!-- TinyMCE V4 Configuration -->
<script src="{{ asset("bundles/politizradmin/js/tinymce_v4/jquery.tinymce.min.js") }}"></script>

<script type="text/javascript">
    // Initializes all textareas with the tinymce class
    var imageUploadPath = $('#tinmce-options').attr('image-upload-path');
    console.log(imageUploadPath);
    var tinyMceAttr = {
          script_url : '{{ asset("bundles/politizradmin/js/tinymce_v4/tinymce.min.js") }}',
          theme : "modern",
          language : "fr_FR",
          width : 800,
          height : 400,
          plugins : "image,paste,table,link,code,textcolor,lists,searchreplace",
          tools: "inserttable",
          toolbar: "undo redo | styleselect | bullist numlist | bold italic | alignleft aligncenter alignright alignjustify | link | forecolor backcolor | image | code",
          paste_as_text: true,
          paste_data_images: true,
          convert_urls: false,
          relatives_urls: false,
          extended_valid_elements: 'span,img[src|height|width|alt|uuid]',
          branding: false,
          image_caption: true,
          images_upload_url: imageUploadPath,
          // images_upload_base_path: '/some/basepath',
          images_upload_credentials: true
    };
    $().ready(function() {
      $('textarea.tinymce').tinymce(tinyMceAttr);

      // tinymce.activeEditor.uploadImages(function(success) {
      //   $.post('ajax/post.php', tinymce.activeEditor.getContent()).done(function() {
      //     console.log("Uploaded images and posted content as an ajax request.");
      //   });
      // });

    });
</script>
