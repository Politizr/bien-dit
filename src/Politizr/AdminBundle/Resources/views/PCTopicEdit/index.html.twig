{% extends_admingenerated "PolitizrAdminBundle:PCTopicEdit:index.html.twig" %}

{% block stylesheets %}
    {{ parent() }}

    <link rel="stylesheet" href="{{ asset('bundles/politizradmin/css/dropzone.css') }}">
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <span id="tinmce-options" image-upload="true" image-upload-path="{{ path('Politizr_tmce_file_upload', { 'pk': PCTopic.id, 'modelClass': constant('Politizr\\Constant\\ObjectTypeConstants::TYPE_TOPIC'), 'maxWidth': constant('Politizr\\Constant\\DocumentConstants::DOC_IMAGE_MAX_WIDTH'), 'maxHeight': constant('Politizr\\Constant\\DocumentConstants::DOC_IMAGE_MAX_HEIGHT') }) }}" />

    {# TinyMCE #}
    {% if is_granted('ROLE_SYSTEM') %}
        {% include "PolitizrAdminBundle::tinymce-full.html.twig" %}
    {% else %}
        {% include "PolitizrAdminBundle::tinymce-light.html.twig" %}
    {% endif %}

    {# Upload #}
    <script type="text/javascript" src="{{ asset('bundles/politizradmin/js/dropzone.js') }}"></script>  
    <script type="text/javascript" src="{{ asset('bundles/politizradmin/js/politizr/uploadImage.js') }}"></script>
{% endblock %}
