generator:                  admingenerator.generator.propel
params:
    model:                  Politizr\Model\PDDebate
    namespace_prefix:       Politizr
    concurrency_lock:       ~
    bundle_name:            AdminBundle
    pk_requirement:         ~
    fields:
        id:
            label:          ID
        p_user_id:
            label:          ID Utilisateur
            getter:         PDocument.PUserId
            dbType:         INTEGER
        p_user:
            label:          Utilisateur
            getter:         PDocument.PUser
            dbType:         VARCHAR
        file_name:
            label:          Image
        title:
            label:          Titre
            getter:         PDocument.Title
            dbType:         VARCHAR
        summary:
            label:          Résumé
            getter:         PDocument.Summary
            dbType:         LONGVARCHAR
        description:
            label:          Description
            getter:         PDocument.Description
            dbType:         LONGVARCHAR
        more_info:
            label:          Encart
            getter:         PDocument.MoreInfo
            dbType:         LONGVARCHAR
        note_pos:
            label:          Notes +
            getter:         PDocument.NotePos
            dbType:         INTEGER
        note_neg:
            label:          Notes -
            getter:         PDocument.NoteNeg
            dbType:         INTEGER
        published:
            label:          Publié
            getter:         PDocument.Published
            dbType:         BOOLEAN
        published_at:
            label:          Publication
            getter:         PDocument.PublishedAt
            dbType:         TIMESTAMP
        published_by:
            label:          Auteur
            getter:         PDocument.PublishedBy
            dbType:         VARCHAR
        online:
            label:          En ligne
            getter:         PDocument.Online
            dbType:         BOOLEAN
        created_at:
            label:          Création
        updated_at:
            label:          Mis à jour
    object_actions:
        delete:             ~
    batch_actions:
        delete:             ~
builders:
    list:
        params:
            title:                              Liste des débats
            max_per_page:                       50
            sort:                               [ created_at, DESC ]
            scopes:
                group_1: 
                    "Tous":                     ~
                    "Publiés":
                        default:                true
                        filters:
                            filterByPublished:  true
                    "Brouillons":
                        filters:
                            filterByPublished:  false
            display:                            [ file_name, id, p_user, title, summary, count_reactions, online, published, published_at, created_at ]
            fields:
                count_reactions:
                    label:                      Réactions
            actions:
                new:                            ~
            object_actions:
                show:                           ~
                edit:                           ~
                delete:                         ~
    excel:
        params: ~
        filename: ~
        filetype: ~
    filters:
        params:
            display:                            [ id, p_user_id, published, published_at, online, created_at ]
            fields:
                p_user:
                    addFormOptions:
                        query:                  \Politizr\Model\PUserQuery::create()->orderByName() 
    new:
        params:
            title:                              "Création d'un contenu débat"
            display:
                "Champs principaux":            [ [ p_user_id ], [ title ] ]
                "Champs complémentaires":       [ [ summary ] ]
            fields:
                p_user_id:
                    label:                      Utilisateur
                    formType:                   choice
                    dbType:                     VARCHAR
                    addFormOptions:
                        choices:                \Politizr\Model\PUserQuery::create()->orderByName()->find()->toKeyValue()
                summary:
                    addFormOptions:
                        attr:                   { class : tinymce }
            actions:
              save:                             ~
              list:                             ~
    edit:
        params:
            title:                              "Edition du contenu débat '{{ PDDebate.getTitle }}'"
            tabs:
                "Contenu":
                    "Texte":                    [ uploadedFileName, title, summary, description, more_info ]
                "Objets":
                    "Utilisateur":              [ [ p_user_id ] ]
                "Réactions":
                    "Réactions associées":      [ block_reactions ]
                "Tags":
                    "Tags associés":            [ block_tags_geo, block_tags_theme ]
                "Statut":
                    "Publication":              [ [ published ], [ published_by ], [ published_at ] ]
                    "Notes":                    [ [ note_pos, note_neg ] ]
                "Attributs":
                    "Création":                 [ [ online ], [ created_at, updated_at ] ]
            fields:
                uploadedFileName:
                    dbType:                     VARCHAR
                    label:                      Photo
                    formType:                   afe_single_upload
                    addFormOptions:
                        # nameable:               fileName
                        deleteable:             fileName
                        data_class:             Symfony\Component\HttpFoundation\File\File
                p_user_id:
                    label:                      Utilisateur
                    formType:                   choice
                    dbType:                     VARCHAR
                    addFormOptions:
                        choices:                \Politizr\Model\PUserQuery::create()->orderByName()->find()->toKeyValue()
                summary:
                    addFormOptions:
                        attr:                   { class : tinymce }
                description:
                    addFormOptions:
                        attr:                   { class : tinymce }
                more_info:
                    addFormOptions:
                        attr:                   { class : tinymce }
                block_reactions:
                    label:                      "Réactions"
                    formType:                   hidden
                    dbType:                     VARCHAR
                    addFormOptions:
                        mapped:                 false
                block_tags_geo:
                    label:                      "Tags Géo"
                    formType:                   hidden
                    dbType:                     VARCHAR
                    addFormOptions:
                        mapped:                 false
                block_tags_theme:
                    label:                      "Tags Thématiques"
                    formType:                   hidden
                    dbType:                     VARCHAR
                    addFormOptions:
                        mapped:                 false
                published_at:
                    # formType:                   afe_datetime_picker
                    addFormOptions:
                        widget:                 single_text
                created_at:
                    addFormOptions:
                        widget:                 single_text
                updated_at:
                    addFormOptions:
                        widget:                 single_text
            actions:
                save:                           ~
                show:                           ~
                list:                           ~
                delete:                         ~
    show:
        params:
            title:                              "Visualisation du contenu débat '{{ PDDebate.getTitle }}'"
            tabs:
                "Contenu":
                    "Texte":                    [ file_name, title, summary, description, more_info ]
                "Objets":
                    "Utilisateur":              [ [ p_user ] ]
                "Réactions":
                    "Réactions associées":      [ block_reactions ]
                "Commentaires":
                    "Commentaires associés":    [ block_comments ]
                "Tags":
                    "Tags associés":            [ block_tags_geo, block_tags_theme ]
                "Abonnés":
                    "Utilisateurs":             [ block_followers_q, block_followers_c ]
                "Statut":
                    "Publication":              [ [ published ], [ published_by ], [ published_at ] ]
                "Attributs":
                    "Création":                 [ [ online ], [ created_at, updated_at ] ]
            fields:
                block_reactions:
                    label:                      "Réactions"
                block_comments:
                    label:                      "Commentaires"
                block_tags_geo:
                    label:                      "Tags Géo"
                block_tags_theme:
                    label:                      "Tags Thématiques"
                block_followers_q:
                    label:                      "Qualifiés"
                block_followers_c:
                    label:                      "Citoyens"
            actions:
                list:                           ~
                edit:                           ~
                delete:                         ~
    actions:
        params:
            object_actions:
                delete: ~
            batch_actions:
                delete: ~
